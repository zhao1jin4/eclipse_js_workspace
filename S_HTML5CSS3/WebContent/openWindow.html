<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>打开的窗口</title>
<script type="text/javascript">
//在关闭页面时弹出确认提示窗口

window.onbeforeunload = function(event){	
	//代码会被执行
	//alert('x');//但alert被 block了，弹不出来  
	
	var person=prompt("请输入你的名字","李四"); //prompt被 block了，弹不出来  
	
	if (confirm('关闭吗?'))// confirm被 block了，弹不出来  
	{
	  window.close();
	}else
	{
		return false;
	}
	//return '您可能有数据没有保存'; 
};
</script>
</head>
<body>


		<br/>
		点X关闭时提示做不到？？？
		Window.open()  的窗口会忽略 onunload
		
		<script type="text/javascript">
/*		window.onbeforeunload=function (){
			alter('onbeforeunload');
		};
		window.onunload ==function (){
			alter('onunload');
		};
	*/	
	/*	
	window.k = function (e) {
				e = e || window.event;

				// 兼容IE8和Firefox 4之前的版本
				if (e) {
					e.returnValue = '关闭提示';
				}

				// Chrome, Safari, Firefox 4+, Opera 12+ , IE 9+
				return '关闭提示';
			};
	*/	
		</script>
		
</body>
</html>
 	 